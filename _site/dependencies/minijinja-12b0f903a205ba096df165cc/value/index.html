<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Provides a dynamic value type abstraction."><meta name="keywords" content="rust, rustlang, rust-lang, value"><title>minijinja::value - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../normalize.css"><link rel="stylesheet" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../ayu.css" disabled><link rel="stylesheet" href="../../dark.css" disabled><link rel="stylesheet" href="../../light.css" id="themeStyle"><script id="default-settings" 
        data-theme="ayu"
        data-use_system_theme="false"></script><script src="../../storage.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../minijinja/index.html"><div class="logo-container"><img src="https://github.com/mitsuhiko/minijinja/raw/main/artwork/logo-square.png" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../minijinja/index.html"><div class="logo-container">
                    <img src="https://github.com/mitsuhiko/minijinja/raw/main/artwork/logo-square.png" alt="logo"></div></a><h2 class="location"><a href="#">Module value</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../minijinja/index.html">
                        <img src="https://github.com/mitsuhiko/minijinja/raw/main/artwork/logo-square.png" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">minijinja</a>::<wbr><a class="mod" href="#">value</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/minijinja/value/mod.rs.html#1-1005">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Provides a dynamic value type abstraction.</p>
<p>This module gives access to a dynamically typed value which is used by
the template engine during execution.</p>
<p>For the most part the existence of the value type can be ignored as
MiniJinja will perform the necessary conversions for you.  For instance
if you write a filter that converts a string you can directly declare the
filter to take a <a href="https://doc.rust-lang.org/1.65.0/alloc/string/struct.String.html"><code>String</code></a>.  However for some more
advanced use cases it’s useful to know that this type exists.</p>
<h2 id="converting-values"><a href="#converting-values">Converting Values</a></h2>
<p>Values are typically created via the <a href="https://doc.rust-lang.org/1.65.0/core/convert/trait.From.html" title="From"><code>From</code></a> trait:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>value = Value::from(<span class="number">42</span>);</code></pre></div>
<p>MiniJinja will however create values via an indirection via <a href="../../serde/index.html" title="serde"><code>serde</code></a> when
a template is rendered or an expression is evaluated.  This can also be
triggered manually by using the <a href="struct.Value.html#method.from_serializable" title="Value::from_serializable"><code>Value::from_serializable</code></a> method:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>value = Value::from_serializable(<span class="kw-2">&amp;</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</code></pre></div>
<p>To to into the inverse directly the various <a href="https://doc.rust-lang.org/1.65.0/core/convert/trait.TryFrom.html"><code>TryFrom</code></a>
implementations can be used:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::convert::TryFrom;
<span class="kw">let </span>v = u64::try_from(Value::from(<span class="number">42</span>)).unwrap();</code></pre></div>
<h2 id="value-function-arguments"><a href="#value-function-arguments">Value Function Arguments</a></h2>
<p><a href="../filters/index.html">Filters</a> and <a href="../tests/index.html">tests</a> can take values as arguments
but optionally also rust types directly.  This conversion for function arguments
is performed by the <a href="trait.FunctionArgs.html" title="FunctionArgs"><code>FunctionArgs</code></a> and related traits (<a href="trait.ArgType.html" title="ArgType"><code>ArgType</code></a>, <a href="trait.FunctionResult.html" title="FunctionResult"><code>FunctionResult</code></a>).</p>
<h2 id="memory-management"><a href="#memory-management">Memory Management</a></h2>
<p>Values are immutable objects which are internally reference counted which
means they can be copied relatively cheaply.  Special care must be taken
so that cycles are not created to avoid causing memory leaks.</p>
<h2 id="html-escaping"><a href="#html-escaping">HTML Escaping</a></h2>
<p>MiniJinja inherits the general desire to be clever about escaping.  For this
prupose a value will (when auto escaping is enabled) always be escaped.  To
prevent this behavior the <a href="../filters/fn.safe.html"><code>safe</code></a> filter can be used
in the template.  Outside of templates the <a href="struct.Value.html#method.from_safe_string" title="Value::from_safe_string"><code>Value::from_safe_string</code></a> method
can be used to achieve the same result.</p>
<h2 id="dynamic-objects"><a href="#dynamic-objects">Dynamic Objects</a></h2>
<p>Values can also hold “dynamic” objects.  These are objects which implement the
<a href="trait.Object.html" title="Object"><code>Object</code></a> trait.  These can be used to implement dynamic functionality such as
stateful values and more.  Dynamic objects are internally also used to implement
the special <code>loop</code> variable or macros.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Iter.html" title="minijinja::value::Iter struct">Iter</a></div><div class="item-right docblock-short">Iterates over a value.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Rest.html" title="minijinja::value::Rest struct">Rest</a></div><div class="item-right docblock-short">Utility type to capture remaining arguments.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Value.html" title="minijinja::value::Value struct">Value</a></div><div class="item-right docblock-short">Represents a dynamically typed value in the template engine.</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ValueKind.html" title="minijinja::value::ValueKind enum">ValueKind</a></div><div class="item-right docblock-short">Describes the kind of value.</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ArgType.html" title="minijinja::value::ArgType trait">ArgType</a></div><div class="item-right docblock-short">A trait implemented by all filter/test argument types.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.FunctionArgs.html" title="minijinja::value::FunctionArgs trait">FunctionArgs</a></div><div class="item-right docblock-short">Helper trait representing valid filter, test and function arguments.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.FunctionResult.html" title="minijinja::value::FunctionResult trait">FunctionResult</a></div><div class="item-right docblock-short">A utility trait that represents the return value of functions and filters.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Object.html" title="minijinja::value::Object trait">Object</a></div><div class="item-right docblock-short">A utility trait that represents a dynamic object.</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.from_args.html" title="minijinja::value::from_args fn">from_args</a></div><div class="item-right docblock-short">Utility function to convert a slice of values into arguments.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.serializing_for_value.html" title="minijinja::value::serializing_for_value fn">serializing_for_value</a></div><div class="item-right docblock-short">Function that returns true when serialization for <a href="struct.Value.html" title="Value"><code>Value</code></a> is taking place.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="minijinja" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0 (Arch Linux rust 1:1.65.0-1)" ></div></body></html>