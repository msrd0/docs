<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A utility trait that represents a dynamic object."><meta name="keywords" content="rust, rustlang, rust-lang, Object"><title>Object in minijinja::value - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../normalize.css"><link rel="stylesheet" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../ayu.css" disabled><link rel="stylesheet" href="../../dark.css" disabled><link rel="stylesheet" href="../../light.css" id="themeStyle"><script id="default-settings" 
        data-theme="ayu"
        data-use_system_theme="false"></script><script src="../../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../minijinja/index.html"><div class="logo-container"><img src="https://github.com/mitsuhiko/minijinja/raw/main/artwork/logo-square.png" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../minijinja/index.html"><div class="logo-container">
                    <img src="https://github.com/mitsuhiko/minijinja/raw/main/artwork/logo-square.png" alt="logo"></div></a><h2 class="location"><a href="#">Object</a></h2><div class="sidebar-elems"><section><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.call">call</a></li><li><a href="#method.call_method">call_method</a></li><li><a href="#method.kind">kind</a></li></ul><h3><a href="#foreign-impls">Implementations on Foreign Types</a></h3><ul class="block"><li><a href="#impl-Object-for-Arc%3CT%3E">Arc&lt;T&gt;</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block"><li><a href="#method.downcast_ref">downcast_ref</a></li><li><a href="#method.is">is</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In minijinja::value</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Trait <a href="../index.html">minijinja</a>::<wbr><a href="index.html">value</a>::<wbr><a class="trait" href="#">Object</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/minijinja/value/object.rs.html#34-77">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="item-decl"><pre class="rust trait"><code>pub trait Object: <a class="trait" href="https://doc.rust-lang.org/1.66.1/core/fmt/trait.Display.html" title="trait core::fmt::Display">Display</a> + <a class="trait" href="https://doc.rust-lang.org/1.66.1/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="https://doc.rust-lang.org/1.66.1/core/any/trait.Any.html" title="trait core::any::Any">Any</a> + <a class="trait" href="https://doc.rust-lang.org/1.66.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="https://doc.rust-lang.org/1.66.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> {
    fn <a href="#method.kind" class="fnname">kind</a>(&amp;self) -&gt; <a class="enum" href="enum.ObjectKind.html" title="enum minijinja::value::ObjectKind">ObjectKind</a>&lt;'_&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.call_method" class="fnname">call_method</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state: &amp;<a class="struct" href="../struct.State.html" title="struct minijinja::State">State</a>&lt;'_, '_&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.str.html">str</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;args: &amp;[<a class="struct" href="struct.Value.html" title="struct minijinja::value::Value">Value</a>]<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.66.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.Value.html" title="struct minijinja::value::Value">Value</a>, <a class="struct" href="../struct.Error.html" title="struct minijinja::Error">Error</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.call" class="fnname">call</a>(&amp;self, state: &amp;<a class="struct" href="../struct.State.html" title="struct minijinja::State">State</a>&lt;'_, '_&gt;, args: &amp;[<a class="struct" href="struct.Value.html" title="struct minijinja::value::Value">Value</a>]) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.66.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.Value.html" title="struct minijinja::value::Value">Value</a>, <a class="struct" href="../struct.Error.html" title="struct minijinja::Error">Error</a>&gt; { ... }
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A utility trait that represents a dynamic object.</p>
<p>The engine uses the <a href="struct.Value.html" title="Value"><code>Value</code></a> type to represent values that the engine
knows about.  Most of these values are primitives such as integers, strings
or maps.  However it is also possible to expose custom types without
undergoing a serialization step to the engine.  For this to work a type
needs to implement the <a href="trait.Object.html" title="Object"><code>Object</code></a> trait and be wrapped in a value with
<a href="struct.Value.html#method.from_object"><code>Value::from_object</code></a>. The ownership of
the object will then move into the value type.
The engine uses reference counted objects with interior mutability in the
value type.  This means that all trait methods take <code>&amp;self</code> and types like
<a href="https://doc.rust-lang.org/1.66.1/std/sync/mutex/struct.Mutex.html"><code>Mutex</code></a> need to be used to enable mutability.
Objects need to implement <a href="https://doc.rust-lang.org/1.66.1/core/fmt/trait.Display.html"><code>Display</code></a> which is used by
the engine to convert the object into a string if needed.  Additionally
<a href="https://doc.rust-lang.org/1.66.1/core/fmt/trait.Debug.html"><code>Debug</code></a> is required as well.</p>
<p>The exact runtime characteristics of the object are influenced by the
<a href="trait.Object.html#method.kind"><code>kind</code></a> of the object.  By default an object can just be
stringified and methods can be called.</p>
<p>For examples of how to implement objects refer to <a href="trait.SeqObject.html" title="SeqObject"><code>SeqObject</code></a> and
<a href="trait.StructObject.html" title="StructObject"><code>StructObject</code></a>.</p>
</div></details><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.kind" class="method has-srclink"><a class="srclink rightside" href="../../src/minijinja/value/object.rs.html#42-44">source</a><h4 class="code-header">fn <a href="#method.kind" class="fnname">kind</a>(&amp;self) -&gt; <a class="enum" href="enum.ObjectKind.html" title="enum minijinja::value::ObjectKind">ObjectKind</a>&lt;'_&gt;</h4></section></summary><div class="docblock"><p>Describes the kind of an object.</p>
<p>If not implemented behavior for an object is <a href="enum.ObjectKind.html#variant.Plain" title="ObjectKind::Plain"><code>ObjectKind::Plain</code></a>
which just means that it’s stringifyable and potentially can be
called or has methods.</p>
<p>For more information see <a href="enum.ObjectKind.html" title="ObjectKind"><code>ObjectKind</code></a>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.call_method" class="method has-srclink"><a class="srclink rightside" href="../../src/minijinja/value/object.rs.html#53-60">source</a><h4 class="code-header">fn <a href="#method.call_method" class="fnname">call_method</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;state: &amp;<a class="struct" href="../struct.State.html" title="struct minijinja::State">State</a>&lt;'_, '_&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;name: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.str.html">str</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;args: &amp;[<a class="struct" href="struct.Value.html" title="struct minijinja::value::Value">Value</a>]<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.66.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.Value.html" title="struct minijinja::value::Value">Value</a>, <a class="struct" href="../struct.Error.html" title="struct minijinja::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Called when the engine tries to call a method on the object.</p>
<p>It’s the responsibility of the implementer to ensure that an
error is generated if an invalid method is invoked.</p>
<p>To convert the arguments into arguments use the
<a href="fn.from_args.html"><code>from_args</code></a> function.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.call" class="method has-srclink"><a class="srclink rightside" href="../../src/minijinja/value/object.rs.html#69-76">source</a><h4 class="code-header">fn <a href="#method.call" class="fnname">call</a>(&amp;self, state: &amp;<a class="struct" href="../struct.State.html" title="struct minijinja::State">State</a>&lt;'_, '_&gt;, args: &amp;[<a class="struct" href="struct.Value.html" title="struct minijinja::value::Value">Value</a>]) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.66.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.Value.html" title="struct minijinja::value::Value">Value</a>, <a class="struct" href="../struct.Error.html" title="struct minijinja::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Called when the object is invoked directly.</p>
<p>The default implementation just generates an error that the object
cannot be invoked.</p>
<p>To convert the arguments into arguments use the
<a href="fn.from_args.html"><code>from_args</code></a> function.</p>
</div></details></div><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><div id="implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-dyn%20Object" class="impl has-srclink"><a class="srclink rightside" href="../../src/minijinja/value/object.rs.html#79-119">source</a><a href="#impl-dyn%20Object" class="anchor"></a><h3 class="code-header">impl dyn <a class="trait" href="trait.Object.html" title="trait minijinja::value::Object">Object</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.downcast_ref" class="method has-srclink"><a class="srclink rightside" href="../../src/minijinja/value/object.rs.html#108-113">source</a><h4 class="code-header">pub fn <a href="#method.downcast_ref" class="fnname">downcast_ref</a>&lt;T:&nbsp;<a class="trait" href="trait.Object.html" title="trait minijinja::value::Object">Object</a>&gt;(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.66.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.reference.html">&amp;</a>T&gt;</h4></section></summary><div class="docblock"><p>Returns some reference to the boxed object if it is of type <code>T</code>, or None if it isn’t.</p>
<p>This is basically the “reverse” of <a href="struct.Value.html#method.from_object"><code>from_object</code></a>.</p>
<h5 id="example"><a href="#example">Example</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::fmt;

<span class="attribute">#[derive(Debug)]
</span><span class="kw">struct </span>Thing {
    id: usize,
}

<span class="kw">impl </span>fmt::Display <span class="kw">for </span>Thing {
    <span class="kw">fn </span>fmt(<span class="kw-2">&amp;</span><span class="self">self</span>, f: <span class="kw-2">&amp;mut </span>fmt::Formatter&lt;<span class="lifetime">&#39;_</span>&gt;) -&gt; fmt::Result {
        fmt::Debug::fmt(<span class="self">self</span>, f)
    }
}

<span class="kw">impl </span>Object <span class="kw">for </span>Thing {}

<span class="kw">let </span>x_value = Value::from_object(Thing { id: <span class="number">42 </span>});
<span class="kw">let </span>value_as_obj = x_value.as_object().unwrap();
<span class="kw">let </span>thing = value_as_obj.downcast_ref::&lt;Thing&gt;().unwrap();
<span class="macro">assert_eq!</span>(thing.id, <span class="number">42</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.is" class="method has-srclink"><a class="srclink rightside" href="../../src/minijinja/value/object.rs.html#116-118">source</a><h4 class="code-header">pub fn <a href="#method.is" class="fnname">is</a>&lt;T:&nbsp;<a class="trait" href="trait.Object.html" title="trait minijinja::value::Object">Object</a>&gt;(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Checks if the object is of a specific type.</p>
</div></details></div></details></div><h2 id="foreign-impls" class="small-section-header">Implementations on Foreign Types<a href="#foreign-impls" class="anchor"></a></h2><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Object-for-Arc%3CT%3E" class="impl has-srclink"><a class="srclink rightside" href="../../src/minijinja/value/object.rs.html#121-136">source</a><a href="#impl-Object-for-Arc%3CT%3E" class="anchor"></a><h3 class="code-header">impl&lt;T:&nbsp;<a class="trait" href="trait.Object.html" title="trait minijinja::value::Object">Object</a>&gt; <a class="trait" href="trait.Object.html" title="trait minijinja::value::Object">Object</a> for <a class="struct" href="https://doc.rust-lang.org/1.66.1/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><section id="method.kind-1" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/minijinja/value/object.rs.html#123-125">source</a><a href="#method.kind-1" class="anchor"></a><h4 class="code-header">fn <a href="#method.kind" class="fnname">kind</a>(&amp;self) -&gt; <a class="enum" href="enum.ObjectKind.html" title="enum minijinja::value::ObjectKind">ObjectKind</a>&lt;'_&gt;</h4></section><section id="method.call_method-1" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/minijinja/value/object.rs.html#128-130">source</a><a href="#method.call_method-1" class="anchor"></a><h4 class="code-header">fn <a href="#method.call_method" class="fnname">call_method</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;state: &amp;<a class="struct" href="../struct.State.html" title="struct minijinja::State">State</a>&lt;'_, '_&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;name: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.str.html">str</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;args: &amp;[<a class="struct" href="struct.Value.html" title="struct minijinja::value::Value">Value</a>]<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.66.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.Value.html" title="struct minijinja::value::Value">Value</a>, <a class="struct" href="../struct.Error.html" title="struct minijinja::Error">Error</a>&gt;</h4></section><section id="method.call-1" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/minijinja/value/object.rs.html#133-135">source</a><a href="#method.call-1" class="anchor"></a><h4 class="code-header">fn <a href="#method.call" class="fnname">call</a>(&amp;self, state: &amp;<a class="struct" href="../struct.State.html" title="struct minijinja::State">State</a>&lt;'_, '_&gt;, args: &amp;[<a class="struct" href="struct.Value.html" title="struct minijinja::value::Value">Value</a>]) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.66.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.Value.html" title="struct minijinja::value::Value">Value</a>, <a class="struct" href="../struct.Error.html" title="struct minijinja::Error">Error</a>&gt;</h4></section></div></details><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div id="implementors-list"></div><script src="../../implementors/minijinja/value/object/trait.Object.js" data-ignore-extern-crates="alloc" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="minijinja" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.66.1 (90743e729 2023-01-10) (Arch Linux rust 1:1.66.1-2)" ></div></body></html>