<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Filter functions and abstractions."><meta name="keywords" content="rust, rustlang, rust-lang, filters"><title>minijinja::filters - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../normalize.css"><link rel="stylesheet" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../ayu.css" disabled><link rel="stylesheet" href="../../dark.css" disabled><link rel="stylesheet" href="../../light.css" id="themeStyle"><script id="default-settings" 
        data-theme="ayu"
        data-use_system_theme="false"></script><script src="../../storage.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../minijinja/index.html"><div class="logo-container"><img src="https://github.com/mitsuhiko/minijinja/raw/main/artwork/logo-square.png" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../minijinja/index.html"><div class="logo-container">
                    <img src="https://github.com/mitsuhiko/minijinja/raw/main/artwork/logo-square.png" alt="logo"></div></a><h2 class="location"><a href="#">Module filters</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../minijinja/index.html">
                        <img src="https://github.com/mitsuhiko/minijinja/raw/main/artwork/logo-square.png" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">minijinja</a>::<wbr><a class="mod" href="#">filters</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/minijinja/filters.rs.html#1-882">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Filter functions and abstractions.</p>
<p>MiniJinja inherits from Jinja2 the concept of filter functions.  These are functions
which are applied to values to modify them.  For example the expression <code>{{ 42|filter(23) }}</code>
invokes the filter <code>filter</code> with the arguments <code>42</code> and <code>23</code>.</p>
<p>MiniJinja comes with some built-in filters that are listed below. To create a
custom filter write a function that takes at least a value, then registers it
with <a href="../struct.Environment.html#method.add_filter"><code>add_filter</code></a>.</p>
<h2 id="using-filters"><a href="#using-filters">Using Filters</a></h2>
<p>Using filters in templates is possible in all places an expression is permitted.
This means they are not just used for printing but also are useful for iteration
or similar situations.</p>
<p>Motivating example:</p>
<div class="example-wrap"><pre class="language-jinja"><code>&lt;dl&gt;
{% for key, value in config|items %}
  &lt;dt&gt;{{ key }}
  &lt;dd&gt;&lt;pre&gt;{{ value|tojson }}&lt;/pre&gt;
{% endfor %}
&lt;/dl&gt;</code></pre></div><h2 id="custom-filters"><a href="#custom-filters">Custom Filters</a></h2>
<p>A custom filter is just a simple function which accepts its inputs
as parameters and then returns a new value.  For instance the following
shows a filter which takes an input value and replaces whitespace with
dashes and converts it to lowercase:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">fn </span>slugify(value: String) -&gt; String {
    value.to_lowercase().split_whitespace().collect::&lt;Vec&lt;<span class="kw">_</span>&gt;&gt;().join(<span class="string">&quot;-&quot;</span>)
}

env.add_filter(<span class="string">&quot;slugify&quot;</span>, slugify);</code></pre></div>
<p>MiniJinja will perform the necessary conversions automatically.  For more
information see the <a href="trait.Filter.html" title="Filter"><code>Filter</code></a> trait.</p>
<h2 id="accessing-state"><a href="#accessing-state">Accessing State</a></h2>
<p>In some cases it can be necesary to access the execution <a href="../struct.State.html" title="State"><code>State</code></a>.  Since a borrowed
state implements <a href="../value/trait.ArgType.html"><code>ArgType</code></a> it’s possible to add a
parameter that holds the state.  For instance the following filter appends
the current template name to the string:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>minijinja::value::Value;
<span class="kw">use </span>minijinja::State;

<span class="kw">fn </span>append_template(state: <span class="kw-2">&amp;</span>State, value: <span class="kw-2">&amp;</span>Value) -&gt; String {
    <span class="macro">format!</span>(<span class="string">&quot;{}-{}&quot;</span>, value, state.name())
}

env.add_filter(<span class="string">&quot;appendTemplate&quot;</span>, append_template);</code></pre></div>
<h2 id="built-in-filters"><a href="#built-in-filters">Built-in Filters</a></h2>
<p>When the <code>builtins</code> feature is enabled a range of built-in filters are
automatically added to the environment.  These are also all provided in
this module.  Note though that these functions are not to be
called from Rust code as their exact interface (arguments and return types)
might change from one MiniJinja version to another.</p>
</div></details><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Filter.html" title="minijinja::filters::Filter trait">Filter</a></div><div class="item-right docblock-short">A utility trait that represents filters.</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.abs.html" title="minijinja::filters::abs fn">abs</a></div><div class="item-right docblock-short">Returns the absolute value of a number.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.batch.html" title="minijinja::filters::batch fn">batch</a></div><div class="item-right docblock-short">Batch items.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.bool.html" title="minijinja::filters::bool fn">bool</a></div><div class="item-right docblock-short">Converts the value into a boolean value.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.default.html" title="minijinja::filters::default fn">default</a></div><div class="item-right docblock-short">If the value is undefined it will return the passed default value,
otherwise the value of the variable:</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.dictsort.html" title="minijinja::filters::dictsort fn">dictsort</a></div><div class="item-right docblock-short">Dict sorting functionality.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.escape.html" title="minijinja::filters::escape fn">escape</a></div><div class="item-right docblock-short">Escapes a string.  By default to HTML.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.first.html" title="minijinja::filters::first fn">first</a></div><div class="item-right docblock-short">Returns the first item from a list.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.items.html" title="minijinja::filters::items fn">items</a></div><div class="item-right docblock-short">Returns a list of pairs (items) from a mapping.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.join.html" title="minijinja::filters::join fn">join</a></div><div class="item-right docblock-short">Joins a sequence by a character</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.last.html" title="minijinja::filters::last fn">last</a></div><div class="item-right docblock-short">Returns the last item from a list.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.length.html" title="minijinja::filters::length fn">length</a></div><div class="item-right docblock-short">Returns the “length” of the value</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.list.html" title="minijinja::filters::list fn">list</a></div><div class="item-right docblock-short">Converts the input value into a list.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.lower.html" title="minijinja::filters::lower fn">lower</a></div><div class="item-right docblock-short">Converts a value to lowercase.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.replace.html" title="minijinja::filters::replace fn">replace</a></div><div class="item-right docblock-short">Does a string replace.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.reverse.html" title="minijinja::filters::reverse fn">reverse</a></div><div class="item-right docblock-short">Reverses a list or string</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.round.html" title="minijinja::filters::round fn">round</a></div><div class="item-right docblock-short">Round the number to a given precision.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.safe.html" title="minijinja::filters::safe fn">safe</a></div><div class="item-right docblock-short">Marks a value as safe.  This converts it into a string.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.slice.html" title="minijinja::filters::slice fn">slice</a></div><div class="item-right docblock-short">Slice an iterable and return a list of lists containing
those items.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.title.html" title="minijinja::filters::title fn">title</a></div><div class="item-right docblock-short">Converts a value to title case.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.trim.html" title="minijinja::filters::trim fn">trim</a></div><div class="item-right docblock-short">Trims a value</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.upper.html" title="minijinja::filters::upper fn">upper</a></div><div class="item-right docblock-short">Converts a value to uppercase.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.urlencode.html" title="minijinja::filters::urlencode fn">urlencode</a></div><div class="item-right docblock-short">URL encodes a value.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="minijinja" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0 (Arch Linux rust 1:1.65.0-1)" ></div></body></html>