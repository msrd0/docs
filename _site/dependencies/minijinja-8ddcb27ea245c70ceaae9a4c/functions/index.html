<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Global functions and abstractions."><meta name="keywords" content="rust, rustlang, rust-lang, functions"><title>minijinja::functions - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-93196c7a1c3542a8.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-4743e13df3dfe8c4.css"><link rel="stylesheet" disabled href="../../static.files/dark-0e1b889528bd466b.css"><link rel="stylesheet" disabled href="../../static.files/ayu-65289d5d067c7c66.css"><script id="default-settings" 
        data-theme="ayu"
        data-use_system_theme="false"></script><script src="../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../../static.files/main-3367e395607fafc1.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../minijinja/index.html"><img src="https://github.com/mitsuhiko/minijinja/raw/main/artwork/logo-square.png" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../minijinja/index.html">
                <img src="https://github.com/mitsuhiko/minijinja/raw/main/artwork/logo-square.png" alt="logo"></a><h2 class="location"><a href="#">Module functions</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">minijinja</a>::<wbr><a class="mod" href="#">functions</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/minijinja/functions.rs.html#1-318">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Global functions and abstractions.</p>
<p>This module provides the abstractions for functions that can registered as
global functions to the environment via
<a href="../struct.Environment.html#method.add_function"><code>add_function</code></a>.</p>
<h2 id="using-functions"><a href="#using-functions">Using Functions</a></h2>
<p>Functions can be called in any place where an expression is valid.  They
are useful to retrieve data.  Some functions are special and provided
by the engine (like <code>super</code>) within certain context, others are global.</p>
<p>The following is a motivating example:</p>
<div class="example-wrap"><pre class="language-jinja"><code>&lt;pre&gt;{{ debug() }}&lt;/pre&gt;
</code></pre></div><h2 id="custom-functions"><a href="#custom-functions">Custom Functions</a></h2>
<p>A custom global function is just a simple rust function which accepts optional
arguments and then returns a result.  Global functions are typically used to
perform a data loading operation.  For instance these functions can be used
to expose data to the template that hasn’t been provided by the individual
render invocation.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>minijinja::{Error, ErrorKind};

<span class="kw">fn </span>include_file(name: String) -&gt; <span class="prelude-ty">Result</span>&lt;String, Error&gt; {
    std::fs::read_to_string(<span class="kw-2">&amp;</span>name)
        .map_err(|e| Error::new(
            ErrorKind::InvalidOperation,
            <span class="string">&quot;cannot load file&quot;
        </span>).with_source(e))
}

env.add_function(<span class="string">&quot;include_file&quot;</span>, include_file);</code></pre></div>
<h2 id="note-on-keyword-arguments"><a href="#note-on-keyword-arguments">Note on Keyword Arguments</a></h2>
<p>MiniJinja inherits a lot of the runtime model from Jinja2.  That includes support for
keyword arguments.  These however are a concept not native to Rust which makes them
somewhat unconfortable to work with.  In MiniJinja keyword arguments are implemented by
converting them into an extra parameter represented by a map.  That means if you call
a function as <code>foo(1, 2, three=3, four=4)</code> the function gets three arguments:</p>
<div class="example-wrap"><pre class="language-json"><code>[1, 2, {&quot;three&quot;: 3, &quot;four&quot;: 4}]
</code></pre></div>
<p>If a function wants to disambiugate between a value passed as keyword argument or not,
the the <a href="../value/struct.Value.html#method.is_kwargs" title="Value::is_kwargs"><code>Value::is_kwargs</code></a> can be used which returns <code>true</code> if a value represents
keyword arguments as opposed to just a map.</p>
<h2 id="built-in-functions"><a href="#built-in-functions">Built-in Functions</a></h2>
<p>When the <code>builtins</code> feature is enabled a range of built-in functions are
automatically added to the environment.  These are also all provided in
this module.  Note though that these functions are not to be
called from Rust code as their exact interface (arguments and return types)
might change from one MiniJinja version to another.</p>
</div></details><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Function.html" title="minijinja::functions::Function trait">Function</a></div><div class="item-right docblock-short">A utility trait that represents global functions.</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.debug.html" title="minijinja::functions::debug fn">debug</a></div><div class="item-right docblock-short">Outputs the current context stringified.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.dict.html" title="minijinja::functions::dict fn">dict</a></div><div class="item-right docblock-short">Creates a dictionary.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.range.html" title="minijinja::functions::range fn">range</a></div><div class="item-right docblock-short">Returns a range.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="minijinja" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0 (2c8cc3432 2023-03-06) (Arch Linux rust 1:1.68.0-1)" data-search-js="search-98d53477a794af0b.js" data-settings-js="settings-c3c521c753752a1a.js" data-settings-css="settings-08ddfdda51b8ee2e.css" ></div></body></html>